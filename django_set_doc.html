<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>장고 셋팅</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <style>
        /* .accordion-item{width: 1000px; margin: 0px auto; padding: 0px; } */
        h5{color: red;}
    </style>
</head>
<body>
    
    <div class="container my-4">
        <h2 id="example">파이썬 웹 개발 - 장고</h2>
        <br>
    <div class="accordion accordion-flush" id="accordionFlushExample" >
        <div class="accordion-item">
            <h2 class="accordion-header" id="flush-headingOne">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                    1. 장고 설치
                </button>
            </h2>
            <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">
                    <li class="list-group-item">파이션를 pc에 설치하고 (주의 : Add Python 3.8 to PATH 체크)</li>
                    <li class="list-group-item">파이션 가상 환경 만들기 : c:\mkdir vesnvs</li>
                    <li class="list-group-item">c:\vesnvs\python -m venv mysite(프로젝트 폴더 생성하기)</li>
                    <li class="list-group-item">가상환경 진입  c:\venvs\mysite\Scripts> activate --> (mysite) C:\venns/mysite\Scripts> 로 진입</li>
                    <li class="list-group-item">가상환경 벗어나기 (mysite) C:\venns/mysite\Scripts> deactivate</li>
                    <li class="list-group-item">가상환경에 장고 설치 (mysite) C:\venns/mysite\Scripts> pip install django==3.1.3</li>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header" id="flush-headingTwo">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                    2. 장고 프로젝트 생성
                </button>
            </h2>
            <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">
                    <li class="list-group-item">C:\mkdir projects 프로젝트 폴더 생성</li>
                    <li class="list-group-item">C:\projects>c:\venvs\mysite\Scripts\activate  --> (mysite) C:\projects> 가상환경진입</li>
                    <li class="list-group-item">장고 프로젝트을 넣을 폴더 생성 (mysite)C:\projects\mkdir mysite --> (mysite)C:\projects\mysite</li>
                    <li class="list-group-item">(mysite)C:\projects\mysite>django-admin startproject config . ("." 은 현재위치를 지정함)</li>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header" id="flush-headingThree">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                    3. 파이참 설치 및 장고 개발 서버 실행
                </button>
            </h2>
            <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">
                    <li class="list-group-item">파이참(pycham)을 설치하고 파이션 인터프리터를 설치</li>
                    <li class="list-group-item">config/settings.py 파일수정 <br>
                        <br>
                        <h5>LANGUAGE_CODE = "ko-kr"</h5>
                        <h5>TIME_ZONE = "Asia/Seoul</h5> 한국어 및 한국시간 셋팅</li>
                    <li class="list-group-item">(mysite)C:\projects\mysite>python manage.py runserver (개발서버 구동)</li>
                    <li class="list-group-item">http://127.0.0.1:8000 접속 확인 - 개발 환경 구축 완료</li>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header" id="flush-headingFour">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseFour" aria-expanded="false" aria-controls="flush-collapseFour">
                    4. 앱 생성
                </button>
            </h2>
            <div id="flush-collapseFour" class="accordion-collapse collapse" aria-labelledby="flush-headingFour" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">
                    <li class="list-group-item">(mysite)C:\projects\mysite>djnago-admin startapp board (pybo라는 폴더가 생성된다)</li>
                    <li class="list-group-item">config/urls.py 수정<br>
                        <br>
                        <h5>from board import views </h5>
                        <h5>path('board/', views.index) </h5>
                        처음연결 화면 설정</li>
                    <li class="list-group-item">board/views.py 수정 <br>
                        <br>
                        <h5>from django.http import HttpResponse </h5>
                        <h5>def index(request): </h5>
                        설정</li>
                    <li class="list-group-item">config/urls.py 수정 <br>
                        <br> 
                        <h5>from django.urls import path, include 추가 </h5>
                    <li class="list-group-item">board/urls.py를 새로만들기<br>
                        <br>
                        <h5>from django.urls import path
                        <h5>from . import views  </h5>
                        <h5>app_name = 'board'</h5>
                        <h5>urlpatterns = [</h5>
                        <h5>path('', views.index), ]</h5
                    </li>
                </div>
            </div>
        </div>
      
        <div class="accordion-item">
            <h2 class="accordion-header" id="flush-headingFive">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseFive" aria-expanded="false" aria-controls="flush-collapseFive">
                5. DB 테이블 생성
            </button>
            </h2>
            <div id="flush-collapseFive" class="accordion-collapse collapse" aria-labelledby="flush-headingFive" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">
                    <li class="list-group-item">모델 구상 : subject 질문의 제목 , content 질문의 내용, create_date 질문을 작성한 시간</li>
                    <li class="list-group-item">board/models.py 질문과 답변 class 작성(테이블 작성) </li>
                    <li class="list-group-item">config/settings.py에 INSTALLD_APPS 추가 'board'</li>
                    <li class="list-group-item">(mysite)C:\projects\mysite>python manage.py makemigrations 실행</li>
                    <li class="list-group-item">(mysite)C:\projects\mysite>python manage.py migrate 실행</li>
                </div>
            </div>
        </div>
    
        <div class="accordion-item">
            <h2 class="accordion-header" id="flush-headingSix">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseSix" aria-expanded="false" aria-controls="flush-collapseSix">
                6. 모델 (DB테이블) 만들기
            </button>
            </h2>
            <div id="flush-collapseSix" class="accordion-collapse collapse" aria-labelledby="flush-headingSix" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">
                    <li class="list-group-item">모델 구상 : subject 질문의 제목 , content 질문의 내용, create_date 질문을 작성한 시간</li>
                    <li class="list-group-item">board/models.py 질문과 답변 class 작성(테이블 작성) </li>
                    <li class="list-group-item">config/settings.py에 INSTALLD_APPS 추가 'board'</li>
                    <li class="list-group-item">(mysite)C:\projects\mysite>python manage.py makemigrations 실행</li>
                    <li class="list-group-item">(mysite)C:\projects\mysite>python manage.py migrate 실행</li>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header" id="flush-headingSeven">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseSeven" aria-expanded="false" aria-controls="flush-collapseSeven">
                7. 데이터 만들고 저장, 조회, 수정, 삭제
            </button>
            </h2>
            <div id="flush-collapseSeven" class="accordion-collapse collapse" aria-labelledby="flush-headingSeven" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">
                    <li class="list-group-item"> (mysite)C:\projects\mysite>python manage.py shell 장고 셀 실행</li>
                    <li class="list-group-item"> >>>from board.models import Question, Answer  question과 answer 모델 임포트함</li>
                    <li class="list-group-item"> >>>from django.utils import timezone 시간 임포트함</li>
                    <li class="list-group-item"> >>>q = Question(subject='board가 무엇인가요?', content='board에 대해서 알고 싶습니다.', create_date=timezone.now())</li>
                    <li class="list-group-item"> >>>q.save()   질문 데이터를 저장한다.</li>
                    <li class="list-group-item"> >>>Question.objects.all()  Question 모델 데이터를 조회  -> 데이터 id 출력</li>
                    <li class="list-group-item">board/models.py에 __str__ 메서드 추가하면 id가 아닌 실제 데이터 출력<br>
                        <br>
                        <h5>def __str__(self): </h5>
                        <h5>    return self.subject</h5></li>
                    <li class="list-group-item"> >>>Question.objects.filter(id=1) filter함수는 조건에 해당하는 데이터 찾아줌</li>
                    <li class="list-group-item"> >>>Question.objects.get(id=1) get함수는 데이터하나만 찾아줌</li>
                    <li class="list-group-item"> >>>q = Question.objects.get(id=2) 2번 질문을 찾아서 q에 넣어줌</li>
                    <li class="list-group-item"> >>>q.subject = 'Django Model Question' 2번 질문을 수정함</li>
                    <li class="list-group-item"> >>>q.save() 수정한 질문을 저장함</li>
                    <li class="list-group-item"> >>>q = Question.objects.get(id=2) 2번 질문을 찾아서 q에 넣어줌</li>
                    <li class="list-group-item"> >>>q.delete() 2번질문을 삭제함 , 삭제 확인 >>>Question.objects.all()</li>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header" id="flush-headingEight">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEight" aria-expanded="false" aria-controls="flush-collapseEight">
                8. 답변 데이터 생성,조회
            </button>
            </h2>
            <div id="flush-collapseEight" class="accordion-collapse collapse" aria-labelledby="flush-headingEight" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">
                    <li class="list-group-item"> >>>q = Question.objects.get(id=2) 질문하나를 검색해서 q에 넣고</li>
                    <li class="list-group-item"> >>>q 로 확인하며 --> <Question: Django Model Question> 출력 </li>
                    <li class="list-group-item"> >>>from django.utils import timezone 시간 모델 임포트</li>
                    <li class="list-group-item"> >>>a = Answer(question=q, content='네 자동으로 생성됩니다.', create_date=timezone())</li>
                    <li class="list-group-item"> >>>a.save() 하나의 답변을 저장한다.</li>
                    <li class="list-group-item"> >>>a = Anwer.objects.get(id=1) , >>>a 로 조회</li>
                    <li class="list-group-item"> >>>a.question --> "Question: Djanggo Model Question"출력 </li>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header" id="flush-headingNine">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                9. 장고 admin 생성
            </button>
            </h2>
            <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">
                    <li class="list-group-item">(mysite) C:\projects\mysite>python manage.py createsuperuser 관리자 생성</li>
                    <li class="list-group-item">사용자 이름 : admin , 메일 , 비밀번호를 순서대로 입력 한다</li>
                    <li class="list-group-item">서버를 가동하고 http://127.0.0.1:8000/admin 이라고 입력하면 관리자 페이지가 나옴</li>
                    <li class="list-group-item">mysite/board/admin.py 파일에 아래 내용을 입력하면<br>
                        <br>
                        <h5>from board.models import Question, Answer</h5>
                        <h5>admin.site.register(Question)</h5>
                        <h5>admin.site.register(Answer)</h5>
                        </li>
                    <li class="list-group-item">admin 사이트에 Question , Answer 모델이 나타난다.</li>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header" id="flush-headingTen">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTen" aria-expanded="false" aria-controls="flush-collapseTen">
                10. 템플릿 폴더 생성
            </button>
            </h2>
            <div id="flush-collapseTen" class="accordion-collapse collapse" aria-labelledby="flush-headingTen" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">
                    <li class="list-group-item">(mysite) C:\projects\mysite>mkdir templates</li>
                    <li class="list-group-item">config/settings.py TEMPLATES 에 등록<br>
                                <br>
                                <h5> 'DIRS': [BASE_DIR / 'templates'], </h5>
                        </li>
                    <li class="list-group-item">공통 템플릿 디렉터리 : C:/projects/mysite/templates </li>
                    <li class="list-group-item">board 앱 템플릿 디렉터리 : C:/projects/mysite/templates/board </li>
                    <li class="list-group-item">board/urls.py에 path 등록<br>
                            <br>
                            <h5>path('〈int:question_id〉/', views.datail),</h5>
                            </li>
                </div>
            </div>
        </div>
  </div>
  </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</html>